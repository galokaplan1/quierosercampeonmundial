{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport React, { useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport { useContextState, ActionTypes } from \"../Context\";\nimport { enterLogin } from \"../services/axios\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar LogIn = function LogIn(_ref) {\n  var navigation = _ref.navigation;\n  var _useContextState = useContextState(),\n    contextState = _useContextState.contextState,\n    setContextState = _useContextState.setContextState;\n  var _useState = useState({\n      email: '',\n      password: ''\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    userState = _useState2[0],\n    setUserState = _useState2[1];\n  var onLogInPress = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!userState.email || !userState.password) {\n        console.log(\"Por favor ingresar todos los datos\");\n      } else {\n        console.log(\"datos completos, entra a loguearse\");\n        enterLogin(userState).then(function (token) {\n          setContextState({\n            type: ActionTypes.SetToken,\n            value: token\n          });\n          console.log(\"entro\");\n          navigation.navigate(\"Home\");\n        }).catch(function () {\n          console.log(\"Error contraseña o email\");\n          Alert.alert(\"Datos incorrectos\");\n        });\n      }\n    });\n    return function onLogInPress() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.titulo,\n      children: \"Inicio de sesi\\xF3n\"\n    }), _jsx(TextInput, {\n      style: styles.input,\n      placeholder: \"Email\",\n      value: userState.email,\n      onChangeText: function onChangeText(text) {\n        return setUserState(_objectSpread(_objectSpread({}, userState), {}, {\n          email: text\n        }));\n      }\n    }), _jsx(TextInput, {\n      style: styles.input,\n      placeholder: \"Password\",\n      value: userState.password,\n      secureTextEntry: true,\n      onChangeText: function onChangeText(text) {\n        return setUserState(_objectSpread(_objectSpread({}, userState), {}, {\n          password: text\n        }));\n      }\n    }), _jsx(Button, {\n      title: \"Iniciar sesion\",\n      onPress: onLogInPress\n    })]\n  });\n};\nexport default LogIn;\nvar styles = StyleSheet.create({\n  container: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    flex: 1,\n    backgroundColor: 'white'\n  },\n  input: {\n    backgroundColor: 'white',\n    borderColor: 'black',\n    borderRadius: 5,\n    paddingHorizontal: 10,\n    marginVertical: 5,\n    height: 50,\n    margin: 12,\n    borderWidth: 1,\n    padding: 10\n  }\n});","map":{"version":3,"names":["React","useState","useContextState","ActionTypes","enterLogin","LogIn","navigation","contextState","setContextState","email","password","userState","setUserState","onLogInPress","console","log","then","token","type","SetToken","value","navigate","catch","Alert","alert","styles","container","titulo","input","text","StyleSheet","create","alignItems","justifyContent","flex","backgroundColor","borderColor","borderRadius","paddingHorizontal","marginVertical","height","margin","borderWidth","padding"],"sources":["C:/Users/devandroid/Desktop/01/dai01/screens/LogIn.jsx"],"sourcesContent":["import React, {useState} from 'react';\r\nimport { StyleSheet, Text, View, TextInput, Alert, Button} from 'react-native';\r\nimport {useContextState, ActionTypes } from '../Context'\r\nimport {enterLogin} from '../services/axios';\r\n \r\nconst LogIn = ({navigation}) => {\r\n  const { contextState, setContextState } = useContextState();\r\n  const [userState, setUserState] = useState({  //Crea el objeto UserState y se aclara que este tiene email y password\r\n    email: '',\r\n    password: '',\r\n  });\r\n  \r\n  const onLogInPress = async () => {\r\n    \r\n    if (!userState.email|| !userState.password){  //Si el email o el password no estan completos, muestra por consola q faltan datos\r\n      console.log(\"Por favor ingresar todos los datos\")\r\n    } else {\r\n      console.log(\"datos completos, entra a loguearse\")\r\n      enterLogin(userState).then((token)=>{     //Si los datos estan completos, llama a la funcion enterlogin y le pasa el objeto userState\r\n        setContextState({\r\n          type: ActionTypes.SetToken,\r\n          value: token\r\n        })                                      //Si esta bien, devuelve el token y lo Guarda el token en el contextState\r\n        console.log(\"entro\")\r\n        navigation.navigate(\"Home\")             //Si esta bien, te manda a la pantalla Home\r\n      })\r\n      .catch(() => {\r\n        console.log(\"Error contraseña o email\") //Si esta mal, te muestra por consola que hay un error\r\n        Alert.alert(\"Datos incorrectos\")\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <Text style={styles.titulo}>Inicio de sesión</Text> \r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Email\"                                                  \r\n        value={userState.email}                                          \r\n        onChangeText={text => setUserState({...userState, email: text}) } //Cambia el valor del email\r\n      />\r\n      <TextInput\r\n        style={styles.input}\r\n        placeholder=\"Password\"\r\n        value={userState.password}\r\n        secureTextEntry={true}\r\n        onChangeText={text => setUserState({...userState, password: text})}\r\n      />   \r\n      <Button\r\n        title=\"Iniciar sesion\"\r\n        onPress={onLogInPress}\r\n      ></Button>\r\n    </View>  \r\n  );\r\n}\r\n\r\nexport default LogIn;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      flex:1,\r\n      backgroundColor:'white',\r\n  },\r\n  input:{\r\n    backgroundColor: 'white',\r\n    borderColor: 'black',\r\n    borderRadius: 5,\r\n    paddingHorizontal: 10,\r\n    marginVertical: 5,\r\n    height: 50,\r\n    margin: 12,\r\n    borderWidth: 1,\r\n    padding: 10,\r\n  }\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}